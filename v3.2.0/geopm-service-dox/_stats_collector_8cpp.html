<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>geopm: StatsCollector.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">geopm<span id="projectnumber">&#160;3.2.0</span>
   </div>
   <div id="projectbrief">GEOPM - Global Extensible Open Power Manager</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_1323faf5d8ba135ad7b7ee1f96549bd0.html">libgeopmd</a></li><li class="navelem"><a class="el" href="dir_4cfff4ace7b9b40bf92d95c6629a62a1.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">StatsCollector.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_stats_collector_8hpp_source.html">StatsCollector.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="geopm__stats__collector_8h_source.html">geopm_stats_collector.h</a>&quot;</code><br />
<code>#include &lt;sstream&gt;</code><br />
<code>#include &lt;cmath&gt;</code><br />
<code>#include &lt;cstring&gt;</code><br />
<code>#include &quot;<a class="el" href="_exception_8hpp_source.html">geopm/Exception.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_helper_8hpp_source.html">geopm/Helper.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_platform_i_o_8hpp_source.html">geopm/PlatformIO.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_platform_topo_8hpp_source.html">geopm/PlatformTopo.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="geopm__time_8h_source.html">geopm_time.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_runtime_stats_8hpp_source.html">RuntimeStats.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for StatsCollector.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="_stats_collector_8cpp__incl.png" border="0" usemap="#a_stats_collector_8cpp" alt=""/></div>
<map name="a_stats_collector_8cpp" id="a_stats_collector_8cpp">
<area shape="rect" title=" " alt="" coords="783,5,921,31"/>
<area shape="rect" href="_stats_collector_8hpp.html" title=" " alt="" coords="417,79,557,104"/>
<area shape="poly" title=" " alt="" coords="794,33,560,79,559,73,793,28"/>
<area shape="rect" href="_platform_i_o_8hpp.html" title=" " alt="" coords="419,152,589,177"/>
<area shape="poly" title=" " alt="" coords="783,33,704,51,621,81,570,112,529,145,525,140,567,107,619,76,702,46,782,27"/>
<area shape="rect" href="geopm__stats__collector_8h.html" title=" " alt="" coords="83,152,263,177"/>
<area shape="poly" title=" " alt="" coords="783,26,610,44,507,60,405,81,299,114,212,149,210,144,297,109,403,76,506,55,609,39,782,21"/>
<area shape="rect" title=" " alt="" coords="632,79,707,104"/>
<area shape="poly" title=" " alt="" coords="824,33,713,76,711,71,822,28"/>
<area shape="rect" title=" " alt="" coords="731,79,794,104"/>
<area shape="poly" title=" " alt="" coords="839,33,790,72,786,68,836,29"/>
<area shape="rect" title=" " alt="" coords="819,79,885,104"/>
<area shape="poly" title=" " alt="" coords="855,31,855,65,849,65,849,31"/>
<area shape="rect" href="_exception_8hpp.html" title=" " alt="" coords="1779,152,1941,177"/>
<area shape="poly" title=" " alt="" coords="922,19,1183,37,1348,53,1514,76,1676,110,1809,146,1808,151,1675,115,1513,81,1347,58,1182,42,921,25"/>
<area shape="rect" href="_helper_8hpp.html" title=" " alt="" coords="613,152,755,177"/>
<area shape="poly" title=" " alt="" coords="868,29,884,44,898,64,906,85,905,95,899,106,879,121,847,134,769,153,768,148,846,129,876,116,895,102,899,94,900,85,894,66,880,48,865,33"/>
<area shape="rect" href="_platform_topo_8hpp.html" title=" " alt="" coords="881,152,1066,177"/>
<area shape="poly" title=" " alt="" coords="879,29,912,48,943,77,961,107,971,138,966,139,956,109,939,80,909,53,876,33"/>
<area shape="rect" href="geopm__time_8h.html" title=" " alt="" coords="1385,79,1501,104"/>
<area shape="poly" title=" " alt="" coords="922,25,1371,79,1371,84,921,30"/>
<area shape="rect" href="_runtime_stats_8hpp.html" title=" " alt="" coords="1091,152,1229,177"/>
<area shape="poly" title=" " alt="" coords="878,28,1125,144,1122,149,876,33"/>
<area shape="rect" title=" " alt="" coords="874,225,937,251"/>
<area shape="poly" title=" " alt="" coords="558,98,658,117,714,131,768,150,830,181,881,215,878,219,827,186,766,154,712,136,657,122,557,103"/>
<area shape="rect" title=" " alt="" coords="288,152,344,177"/>
<area shape="poly" title=" " alt="" coords="460,106,357,149,355,144,458,102"/>
<area shape="rect" title=" " alt="" coords="961,225,1020,251"/>
<area shape="poly" title=" " alt="" coords="557,98,677,116,745,131,812,149,956,217,954,222,810,155,744,136,676,122,556,103"/>
<area shape="rect" title=" " alt="" coords="216,225,293,251"/>
<area shape="poly" title=" " alt="" coords="471,106,357,180,288,221,285,216,355,175,468,102"/>
<area shape="poly" title=" " alt="" coords="492,104,501,138,495,140,487,105"/>
<area shape="poly" title=" " alt="" coords="437,107,238,152,237,146,436,101"/>
<area shape="poly" title=" " alt="" coords="569,175,861,226,860,231,568,180"/>
<area shape="poly" title=" " alt="" coords="589,173,776,197,948,223,947,228,775,202,589,179"/>
<area shape="poly" title=" " alt="" coords="465,180,307,225,306,219,463,175"/>
<area shape="rect" title=" " alt="" coords="369,225,455,251"/>
<area shape="poly" title=" " alt="" coords="491,179,439,219,436,215,488,175"/>
<area shape="rect" title=" " alt="" coords="576,225,619,251"/>
<area shape="poly" title=" " alt="" coords="521,175,573,215,570,219,517,179"/>
<area shape="rect" href="geopm__pio_8h.html" title=" " alt="" coords="35,225,141,251"/>
<area shape="poly" title=" " alt="" coords="438,180,155,228,154,223,437,175"/>
<area shape="rect" href="geopm__public_8h.html" title=" " alt="" coords="1039,299,1164,324"/>
<area shape="poly" title=" " alt="" coords="447,180,406,192,370,208,358,217,351,227,351,237,358,249,370,257,391,264,454,277,540,288,640,295,851,304,1025,307,1025,312,850,309,639,300,539,293,454,283,389,270,368,262,354,253,346,239,346,225,354,214,367,203,404,187,446,175"/>
<area shape="rect" title=" " alt="" coords="5,299,80,324"/>
<area shape="poly" title=" " alt="" coords="83,252,60,289,55,286,78,250"/>
<area shape="rect" title=" " alt="" coords="105,299,175,324"/>
<area shape="poly" title=" " alt="" coords="99,249,126,286,121,289,94,253"/>
<area shape="poly" title=" " alt="" coords="142,246,160,248,408,271,652,288,1025,305,1025,310,652,293,407,276,160,253,141,251"/>
<area shape="poly" title=" " alt="" coords="161,179,114,219,111,214,158,175"/>
<area shape="poly" title=" " alt="" coords="99,180,57,197,39,210,25,227,20,241,20,256,30,286,25,288,14,257,14,240,20,224,36,206,55,193,97,175"/>
<area shape="poly" title=" " alt="" coords="176,177,183,214,192,233,206,249,223,257,250,265,331,278,438,288,562,295,819,304,1025,307,1025,312,819,309,562,301,438,293,330,283,249,270,221,262,202,253,187,236,178,215,171,178"/>
<area shape="poly" title=" " alt="" coords="1779,179,1767,180,1562,193,1401,195,1240,202,1145,212,1034,228,1034,223,1145,207,1239,197,1401,190,1562,187,1766,175,1778,174"/>
<area shape="poly" title=" " alt="" coords="1850,180,1804,217,1773,237,1740,253,1692,266,1629,277,1476,294,1313,305,1178,310,1178,305,1313,299,1475,289,1629,272,1691,261,1738,248,1770,233,1801,213,1846,176"/>
<area shape="rect" title=" " alt="" coords="1639,225,1726,251"/>
<area shape="poly" title=" " alt="" coords="1832,180,1725,223,1723,218,1831,175"/>
<area shape="rect" href="geopm__error_8h.html" title=" " alt="" coords="1802,225,1918,251"/>
<area shape="poly" title=" " alt="" coords="1863,178,1863,212,1857,212,1857,178"/>
<area shape="poly" title=" " alt="" coords="1802,251,1783,253,1446,287,1178,307,1178,302,1445,281,1782,248,1801,246"/>
<area shape="rect" title=" " alt="" coords="1825,299,1895,324"/>
<area shape="poly" title=" " alt="" coords="1863,251,1863,285,1857,285,1857,251"/>
<area shape="poly" title=" " alt="" coords="720,175,862,220,860,225,719,180"/>
<area shape="poly" title=" " alt="" coords="739,175,948,222,947,228,738,180"/>
<area shape="poly" title=" " alt="" coords="615,180,307,231,307,225,615,175"/>
<area shape="poly" title=" " alt="" coords="641,180,469,225,468,219,640,175"/>
<area shape="poly" title=" " alt="" coords="672,179,624,219,620,214,668,175"/>
<area shape="poly" title=" " alt="" coords="710,175,811,223,836,236,862,248,947,274,1028,293,1026,298,946,279,860,253,834,241,808,228,707,180"/>
<area shape="rect" title=" " alt="" coords="480,225,552,251"/>
<area shape="poly" title=" " alt="" coords="658,180,557,222,555,217,656,175"/>
<area shape="rect" title=" " alt="" coords="643,225,714,251"/>
<area shape="poly" title=" " alt="" coords="686,178,683,212,678,212,680,177"/>
<area shape="rect" title=" " alt="" coords="738,225,798,251"/>
<area shape="poly" title=" " alt="" coords="699,175,745,214,742,218,696,179"/>
<area shape="poly" title=" " alt="" coords="964,180,928,217,924,213,960,176"/>
<area shape="poly" title=" " alt="" coords="979,177,987,212,982,213,974,178"/>
<area shape="poly" title=" " alt="" coords="886,180,769,199,632,228,631,223,768,194,885,175"/>
<area shape="poly" title=" " alt="" coords="1041,175,1120,195,1152,208,1173,224,1179,243,1171,262,1155,279,1136,294,1133,289,1151,275,1166,259,1173,243,1168,227,1150,213,1118,200,1040,180"/>
<area shape="rect" title=" " alt="" coords="1233,225,1284,251"/>
<area shape="poly" title=" " alt="" coords="1021,175,1215,223,1220,224,1219,229,1214,228,1020,180"/>
<area shape="rect" href="geopm__topo_8h.html" title=" " alt="" coords="1044,225,1159,251"/>
<area shape="poly" title=" " alt="" coords="995,175,1069,216,1067,221,993,180"/>
<area shape="poly" title=" " alt="" coords="1044,252,1032,253,891,266,770,271,564,273,358,276,237,285,94,301,94,296,236,280,357,271,564,267,770,266,890,260,1032,248,1044,247"/>
<area shape="poly" title=" " alt="" coords="1104,251,1104,285,1099,285,1099,251"/>
<area shape="poly" title=" " alt="" coords="1385,102,1335,120,1312,134,1294,153,1287,170,1290,180,1301,188,1317,193,1358,204,1376,212,1389,224,1394,238,1389,252,1375,264,1355,274,1302,290,1239,300,1178,307,1178,302,1239,295,1300,284,1353,269,1372,260,1385,249,1389,238,1384,227,1373,216,1356,209,1316,198,1298,192,1285,183,1282,169,1290,151,1309,130,1332,115,1384,97"/>
<area shape="rect" title=" " alt="" coords="1499,152,1567,177"/>
<area shape="poly" title=" " alt="" coords="1459,102,1509,141,1506,145,1456,106"/>
<area shape="rect" title=" " alt="" coords="1591,152,1659,177"/>
<area shape="poly" title=" " alt="" coords="1473,102,1584,144,1582,149,1471,107"/>
<area shape="rect" title=" " alt="" coords="1683,152,1754,177"/>
<area shape="poly" title=" " alt="" coords="1488,101,1671,148,1669,153,1486,107"/>
<area shape="rect" title=" " alt="" coords="1304,152,1387,177"/>
<area shape="poly" title=" " alt="" coords="1429,106,1374,146,1371,141,1425,102"/>
<area shape="rect" title=" " alt="" coords="1411,152,1475,177"/>
<area shape="poly" title=" " alt="" coords="1445,104,1445,138,1440,138,1440,104"/>
<area shape="poly" title=" " alt="" coords="1120,180,951,227,949,222,1118,175"/>
<area shape="poly" title=" " alt="" coords="1134,180,1032,222,1030,217,1132,175"/>
<area shape="rect" title=" " alt="" coords="1308,225,1375,251"/>
<area shape="poly" title=" " alt="" coords="1190,175,1300,218,1298,223,1188,180"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacegeopm" id="r_namespacegeopm"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegeopm.html">geopm</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af0a8dbd35e742058095cf83d0a5294fc" id="r_af0a8dbd35e742058095cf83d0a5294fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stats_collector_8cpp.html#af0a8dbd35e742058095cf83d0a5294fc">geopm_stats_collector_create</a> (size_t num_requests, const struct <a class="el" href="structgeopm__request__s.html">geopm_request_s</a> *requests, struct geopm_stats_collector_s **collector)</td></tr>
<tr class="memdesc:af0a8dbd35e742058095cf83d0a5294fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a stats collector handle.  <br /></td></tr>
<tr class="separator:af0a8dbd35e742058095cf83d0a5294fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bca52c9a672eb76a9782976c9f929ce" id="r_a0bca52c9a672eb76a9782976c9f929ce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stats_collector_8cpp.html#a0bca52c9a672eb76a9782976c9f929ce">geopm_stats_collector_update</a> (struct geopm_stats_collector_s *collector)</td></tr>
<tr class="memdesc:a0bca52c9a672eb76a9782976c9f929ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a stat collector with new values.  <br /></td></tr>
<tr class="separator:a0bca52c9a672eb76a9782976c9f929ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86a0d6aa27162048e9762d45fc4fa27a" id="r_a86a0d6aa27162048e9762d45fc4fa27a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stats_collector_8cpp.html#a86a0d6aa27162048e9762d45fc4fa27a">geopm_stats_collector_update_count</a> (const struct geopm_stats_collector_s *collector, size_t *update_count)</td></tr>
<tr class="memdesc:a86a0d6aa27162048e9762d45fc4fa27a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of updates since last reset.  <br /></td></tr>
<tr class="separator:a86a0d6aa27162048e9762d45fc4fa27a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a394019fbf541c4c2c86e04962867bb43" id="r_a394019fbf541c4c2c86e04962867bb43"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stats_collector_8cpp.html#a394019fbf541c4c2c86e04962867bb43">geopm_stats_collector_report_yaml</a> (const struct geopm_stats_collector_s *collector, size_t *max_report_size, char *report_yaml)</td></tr>
<tr class="memdesc:a394019fbf541c4c2c86e04962867bb43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a yaml report.  <br /></td></tr>
<tr class="separator:a394019fbf541c4c2c86e04962867bb43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab416f5aee731db3542a378acc7fc4f0f" id="r_ab416f5aee731db3542a378acc7fc4f0f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stats_collector_8cpp.html#ab416f5aee731db3542a378acc7fc4f0f">geopm_stats_collector_report</a> (const struct geopm_stats_collector_s *collector, size_t num_requests, <a class="el" href="structgeopm__report__s.html">geopm_report_s</a> *report)</td></tr>
<tr class="separator:ab416f5aee731db3542a378acc7fc4f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab191f884ce3009774508b1f81d60cb84" id="r_ab191f884ce3009774508b1f81d60cb84"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stats_collector_8cpp.html#ab191f884ce3009774508b1f81d60cb84">geopm_stats_collector_reset</a> (struct geopm_stats_collector_s *collector)</td></tr>
<tr class="memdesc:ab191f884ce3009774508b1f81d60cb84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset statistics.  <br /></td></tr>
<tr class="separator:ab191f884ce3009774508b1f81d60cb84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24aeb2a2e4b05272aa85c599efb91bf5" id="r_a24aeb2a2e4b05272aa85c599efb91bf5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_stats_collector_8cpp.html#a24aeb2a2e4b05272aa85c599efb91bf5">geopm_stats_collector_free</a> (struct geopm_stats_collector_s *collector)</td></tr>
<tr class="memdesc:a24aeb2a2e4b05272aa85c599efb91bf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release resources associated with collector handle.  <br /></td></tr>
<tr class="separator:a24aeb2a2e4b05272aa85c599efb91bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="af0a8dbd35e742058095cf83d0a5294fc" name="af0a8dbd35e742058095cf83d0a5294fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0a8dbd35e742058095cf83d0a5294fc">&#9670;&#160;</a></span>geopm_stats_collector_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int geopm_stats_collector_create </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num_requests</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structgeopm__request__s.html">geopm_request_s</a> *&#160;</td>
          <td class="paramname"><em>requests</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct geopm_stats_collector_s **&#160;</td>
          <td class="paramname"><em>collector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a stats collector handle. </p>
<p>Provide a list of PlatformIO signal requests and construct a stats collector object. The request list determine which statistics will be included in the generated report.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">num_requests</td><td>Number of requests in array pointed to by the request pointer</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">requests</td><td>Array of PlatformIO signal requests that configures the report contents</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">collector</td><td>Handle to the constructed StatsCollector object, must be de-allocated with <a class="el" href="geopm__stats__collector_8h.html#a7168350c441997895d35d0cc2b5bedfc" title="Release resources associated with collector handle.">geopm_stats_collector_free()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon success, or error code upon failure </dd></dl>

</div>
</div>
<a id="a24aeb2a2e4b05272aa85c599efb91bf5" name="a24aeb2a2e4b05272aa85c599efb91bf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24aeb2a2e4b05272aa85c599efb91bf5">&#9670;&#160;</a></span>geopm_stats_collector_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int geopm_stats_collector_free </td>
          <td>(</td>
          <td class="paramtype">struct geopm_stats_collector_s *&#160;</td>
          <td class="paramname"><em>collector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release resources associated with collector handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">collector</td><td>Handle created with a call to <a class="el" href="geopm__stats__collector_8h.html#a387257851981f469ab1aaf2d01c2303c" title="Create a stats collector handle.">geopm_stats_collector_create()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon success, or error code upon failure </dd></dl>

</div>
</div>
<a id="ab416f5aee731db3542a378acc7fc4f0f" name="ab416f5aee731db3542a378acc7fc4f0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab416f5aee731db3542a378acc7fc4f0f">&#9670;&#160;</a></span>geopm_stats_collector_report()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int geopm_stats_collector_report </td>
          <td>(</td>
          <td class="paramtype">const struct geopm_stats_collector_s *&#160;</td>
          <td class="paramname"><em>collector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num_requests</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgeopm__report__s.html">geopm_report_s</a> *&#160;</td>
          <td class="paramname"><em>report</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a394019fbf541c4c2c86e04962867bb43" name="a394019fbf541c4c2c86e04962867bb43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a394019fbf541c4c2c86e04962867bb43">&#9670;&#160;</a></span>geopm_stats_collector_report_yaml()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int geopm_stats_collector_report_yaml </td>
          <td>(</td>
          <td class="paramtype">const struct geopm_stats_collector_s *&#160;</td>
          <td class="paramname"><em>collector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>max_report_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>report_yaml</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a yaml report. </p>
<p>Create a report that shows all statistics gathered by calls to <a class="el" href="geopm__stats__collector_8h.html#ada21b403482d41eabcee201e01ce7343" title="Update a stat collector with new values.">geopm_stats_collector_update()</a>. To determine the size of the report string, call with *max_report_size == 0 and report_yaml == NULL. In this case max_report_size will be updated with the required string length and zero is returned. Otherwise, if *max_report_size provided by the user is not sufficient, EINVAL is returned and the value of *max_report_size is set to the required size and report_yaml is unmodified.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">collector</td><td>Handle created with a call to <a class="el" href="geopm__stats__collector_8h.html#a387257851981f469ab1aaf2d01c2303c" title="Create a stats collector handle.">geopm_stats_collector_create()</a></td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">max_report_size</td><td>Set to the length of the report_yaml string provided by the user, set to zero to query value. If too small, will be updated with required value.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">report_yaml</td><td>Generated report string allocated by the user, set to NULL to query max_report_size without error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon success, or error code upon failure </dd></dl>

</div>
</div>
<a id="ab191f884ce3009774508b1f81d60cb84" name="ab191f884ce3009774508b1f81d60cb84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab191f884ce3009774508b1f81d60cb84">&#9670;&#160;</a></span>geopm_stats_collector_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int geopm_stats_collector_reset </td>
          <td>(</td>
          <td class="paramtype">struct geopm_stats_collector_s *&#160;</td>
          <td class="paramname"><em>collector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset statistics. </p>
<p>Called by user to zero all statistics gathered. This may be called after a call to <a class="el" href="geopm__stats__collector_8h.html#aae65fcb69ad1a66c22e7a6591e6f826e" title="Create a yaml report.">geopm_stats_collector_report_yaml()</a> and before the next call to <a class="el" href="geopm__stats__collector_8h.html#ada21b403482d41eabcee201e01ce7343" title="Update a stat collector with new values.">geopm_stats_collector_update()</a> so that the next report that is generated is independent of the last.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">collector</td><td>Handle created with a call to <a class="el" href="geopm__stats__collector_8h.html#a387257851981f469ab1aaf2d01c2303c" title="Create a stats collector handle.">geopm_stats_collector_create()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon success, or error code upon failure </dd></dl>

</div>
</div>
<a id="a0bca52c9a672eb76a9782976c9f929ce" name="a0bca52c9a672eb76a9782976c9f929ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bca52c9a672eb76a9782976c9f929ce">&#9670;&#160;</a></span>geopm_stats_collector_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int geopm_stats_collector_update </td>
          <td>(</td>
          <td class="paramtype">struct geopm_stats_collector_s *&#160;</td>
          <td class="paramname"><em>collector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update a stat collector with new values. </p>
<p>User is expected to call PlatformIO::read_batch() prior to calling this interface. The sampled values will be used to update the report statistics.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">collector</td><td>Handle created with a call to <a class="el" href="geopm__stats__collector_8h.html#a387257851981f469ab1aaf2d01c2303c" title="Create a stats collector handle.">geopm_stats_collector_create()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon success, or error code upon failure </dd></dl>

</div>
</div>
<a id="a86a0d6aa27162048e9762d45fc4fa27a" name="a86a0d6aa27162048e9762d45fc4fa27a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86a0d6aa27162048e9762d45fc4fa27a">&#9670;&#160;</a></span>geopm_stats_collector_update_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int geopm_stats_collector_update_count </td>
          <td>(</td>
          <td class="paramtype">const struct geopm_stats_collector_s *&#160;</td>
          <td class="paramname"><em>collector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>update_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of updates since last reset. </p>
<p>Sets update_count to the number of times that the <a class="el" href="geopm__stats__collector_8h.html#ada21b403482d41eabcee201e01ce7343" title="Update a stat collector with new values.">geopm_stats_collector_update()</a> function has been called on the collector object since it was created, or since the last call to <a class="el" href="geopm__stats__collector_8h.html#a59c328bb403c5c98fa7839954a5b0711" title="Reset statistics.">geopm_stats_collector_reset()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">collector</td><td>Handle created with a call to <a class="el" href="geopm__stats__collector_8h.html#a387257851981f469ab1aaf2d01c2303c" title="Create a stats collector handle.">geopm_stats_collector_create()</a></td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">update_count</td><td>Set to the number of updates upon successful completion</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon success, or error code upon failure </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
