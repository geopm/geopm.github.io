<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>geopm: geopm::Controller Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">geopm<span id="projectnumber">&#160;3.2.0</span>
   </div>
   <div id="projectbrief">GEOPM - Global Extensible Open Power Manager</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegeopm.html">geopm</a></li><li class="navelem"><a class="el" href="classgeopm_1_1_controller.html">Controller</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgeopm_1_1_controller-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">geopm::Controller Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_controller_8hpp_source.html">Controller.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a044df5e35d135766bad9e8253951c15a" id="r_a044df5e35d135766bad9e8253951c15a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_controller.html#a044df5e35d135766bad9e8253951c15a">Controller</a> ()</td></tr>
<tr class="separator:a044df5e35d135766bad9e8253951c15a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af76c0639afa799640cc6249eb3f248f4" id="r_af76c0639afa799640cc6249eb3f248f4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_controller.html#af76c0639afa799640cc6249eb3f248f4">Controller</a> (std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_comm.html">Comm</a> &gt; ppn1_comm)</td></tr>
<tr class="memdesc:af76c0639afa799640cc6249eb3f248f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard constructor for the <a class="el" href="classgeopm_1_1_controller.html">Controller</a>.  <br /></td></tr>
<tr class="separator:af76c0639afa799640cc6249eb3f248f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03ea05cce07fc0c2798bed99e5eaff39" id="r_a03ea05cce07fc0c2798bed99e5eaff39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_controller.html#a03ea05cce07fc0c2798bed99e5eaff39">Controller</a> (std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_comm.html">Comm</a> &gt; comm, PlatformIO &amp;plat_io, const std::string &amp;agent_name, int num_send_down, int num_send_up, std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_tree_comm.html">TreeComm</a> &gt; tree_comm, <a class="el" href="classgeopm_1_1_application_sampler.html">ApplicationSampler</a> &amp;application_sampler, std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_application_i_o.html">ApplicationIO</a> &gt; application_io, std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_reporter.html">Reporter</a> &gt; reporter, std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_tracer.html">Tracer</a> &gt; tracer, std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_endpoint_policy_tracer.html">EndpointPolicyTracer</a> &gt; policy_tracer, std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_profile_tracer.html">ProfileTracer</a> &gt; profile_tracer, std::vector&lt; std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_agent.html">Agent</a> &gt; &gt; level_agent, std::vector&lt; std::string &gt; policy_names, const std::string &amp;policy_path, bool do_policy, std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_endpoint_user.html">EndpointUser</a> &gt; endpoint, const std::string &amp;endpoint_path, bool do_endpoint, std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_init_control.html">InitControl</a> &gt; init_control, bool do_init_control)</td></tr>
<tr class="memdesc:a03ea05cce07fc0c2798bed99e5eaff39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for testing that allows injecting mocked versions of internal objects.  <br /></td></tr>
<tr class="separator:a03ea05cce07fc0c2798bed99e5eaff39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd4658dceb06379981580894cd891a6" id="r_a7bd4658dceb06379981580894cd891a6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_controller.html#a7bd4658dceb06379981580894cd891a6">Controller</a> (const <a class="el" href="classgeopm_1_1_controller.html">Controller</a> &amp;other)=delete</td></tr>
<tr class="separator:a7bd4658dceb06379981580894cd891a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab423137c7f1e72a71d464cab71e7ef9" id="r_aab423137c7f1e72a71d464cab71e7ef9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgeopm_1_1_controller.html">Controller</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_controller.html#aab423137c7f1e72a71d464cab71e7ef9">operator=</a> (const <a class="el" href="classgeopm_1_1_controller.html">Controller</a> &amp;other)=delete</td></tr>
<tr class="separator:aab423137c7f1e72a71d464cab71e7ef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7120bc7bc5c6b006f259f72c59c40ca" id="r_aa7120bc7bc5c6b006f259f72c59c40ca"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_controller.html#aa7120bc7bc5c6b006f259f72c59c40ca">~Controller</a> ()</td></tr>
<tr class="separator:aa7120bc7bc5c6b006f259f72c59c40ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3c838ec3b608643e5b2a86227eeb4cf" id="r_ab3c838ec3b608643e5b2a86227eeb4cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_controller.html#ab3c838ec3b608643e5b2a86227eeb4cf">run</a> (void)</td></tr>
<tr class="memdesc:ab3c838ec3b608643e5b2a86227eeb4cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run control algorithm.  <br /></td></tr>
<tr class="separator:ab3c838ec3b608643e5b2a86227eeb4cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ba16e56cfb95c8216d1d715bb860c19" id="r_a7ba16e56cfb95c8216d1d715bb860c19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_controller.html#a7ba16e56cfb95c8216d1d715bb860c19">step</a> (void)</td></tr>
<tr class="memdesc:a7ba16e56cfb95c8216d1d715bb860c19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run a single step of the control algorithm.  <br /></td></tr>
<tr class="separator:a7ba16e56cfb95c8216d1d715bb860c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6c7f5705f5680e58d53d3f97873d8ff" id="r_ae6c7f5705f5680e58d53d3f97873d8ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_controller.html#ae6c7f5705f5680e58d53d3f97873d8ff">walk_down</a> (void)</td></tr>
<tr class="memdesc:ae6c7f5705f5680e58d53d3f97873d8ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Propagate policy information from the resource manager at the root of the tree down to the controllers on every node.  <br /></td></tr>
<tr class="separator:ae6c7f5705f5680e58d53d3f97873d8ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abda476466aa15ee8063b5dd4bfe72188" id="r_abda476466aa15ee8063b5dd4bfe72188"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_controller.html#abda476466aa15ee8063b5dd4bfe72188">walk_up</a> (void)</td></tr>
<tr class="memdesc:abda476466aa15ee8063b5dd4bfe72188"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read hardware telemetry and application data and send the combined data up the tree to the resource manager.  <br /></td></tr>
<tr class="separator:abda476466aa15ee8063b5dd4bfe72188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d39c1ccf6e46bd747dc239409b8923c" id="r_a9d39c1ccf6e46bd747dc239409b8923c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_controller.html#a9d39c1ccf6e46bd747dc239409b8923c">generate</a> (void)</td></tr>
<tr class="memdesc:a9d39c1ccf6e46bd747dc239409b8923c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the report file and finalize the trace.  <br /></td></tr>
<tr class="separator:a9d39c1ccf6e46bd747dc239409b8923c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4623ffb30c3c735b7928f5abe7efe8a" id="r_ac4623ffb30c3c735b7928f5abe7efe8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_controller.html#ac4623ffb30c3c735b7928f5abe7efe8a">pthread</a> (const pthread_attr_t *attr, pthread_t *thread)</td></tr>
<tr class="memdesc:ac4623ffb30c3c735b7928f5abe7efe8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run control algorithm as a separate thread.  <br /></td></tr>
<tr class="separator:ac4623ffb30c3c735b7928f5abe7efe8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae070f8ec904c99fd2bc3a4567abe15bf" id="r_ae070f8ec904c99fd2bc3a4567abe15bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_controller.html#ae070f8ec904c99fd2bc3a4567abe15bf">setup_trace</a> (void)</td></tr>
<tr class="memdesc:ae070f8ec904c99fd2bc3a4567abe15bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the trace with custom columns from the <a class="el" href="classgeopm_1_1_agent.html">Agent</a>.  <br /></td></tr>
<tr class="separator:ae070f8ec904c99fd2bc3a4567abe15bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41fc0a68e234f7fbdbad4d3402f7df43" id="r_a41fc0a68e234f7fbdbad4d3402f7df43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_controller.html#a41fc0a68e234f7fbdbad4d3402f7df43">abort</a> (void)</td></tr>
<tr class="memdesc:a41fc0a68e234f7fbdbad4d3402f7df43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called upon failure to facilitate graceful destruction of the <a class="el" href="classgeopm_1_1_controller.html">Controller</a> and notify application.  <br /></td></tr>
<tr class="separator:a41fc0a68e234f7fbdbad4d3402f7df43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1c2a69724a761fc58a6832eba035854" id="r_aa1c2a69724a761fc58a6832eba035854"><td class="memItemLeft" align="right" valign="top">std::set&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeopm_1_1_controller.html#aa1c2a69724a761fc58a6832eba035854">get_hostnames</a> (const std::string &amp;hostname)</td></tr>
<tr class="memdesc:aa1c2a69724a761fc58a6832eba035854"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the names of hosts active in the current job. Must be called by all controllers in the tree or else a hang will occur.  <br /></td></tr>
<tr class="separator:aa1c2a69724a761fc58a6832eba035854"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a044df5e35d135766bad9e8253951c15a" name="a044df5e35d135766bad9e8253951c15a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a044df5e35d135766bad9e8253951c15a">&#9670;&#160;</a></span>Controller() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">geopm::Controller::Controller </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af76c0639afa799640cc6249eb3f248f4" name="af76c0639afa799640cc6249eb3f248f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af76c0639afa799640cc6249eb3f248f4">&#9670;&#160;</a></span>Controller() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">geopm::Controller::Controller </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_comm.html">Comm</a> &gt;&#160;</td>
          <td class="paramname"><em>ppn1_comm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Standard constructor for the <a class="el" href="classgeopm_1_1_controller.html">Controller</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ppn1_comm</td><td>The MPI communicator that supports the control messages. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a03ea05cce07fc0c2798bed99e5eaff39" name="a03ea05cce07fc0c2798bed99e5eaff39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03ea05cce07fc0c2798bed99e5eaff39">&#9670;&#160;</a></span>Controller() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">geopm::Controller::Controller </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_comm.html">Comm</a> &gt;&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PlatformIO &amp;&#160;</td>
          <td class="paramname"><em>plat_io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>agent_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_send_down</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_send_up</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_tree_comm.html">TreeComm</a> &gt;&#160;</td>
          <td class="paramname"><em>tree_comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgeopm_1_1_application_sampler.html">ApplicationSampler</a> &amp;&#160;</td>
          <td class="paramname"><em>application_sampler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_application_i_o.html">ApplicationIO</a> &gt;&#160;</td>
          <td class="paramname"><em>application_io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_reporter.html">Reporter</a> &gt;&#160;</td>
          <td class="paramname"><em>reporter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_tracer.html">Tracer</a> &gt;&#160;</td>
          <td class="paramname"><em>tracer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_endpoint_policy_tracer.html">EndpointPolicyTracer</a> &gt;&#160;</td>
          <td class="paramname"><em>policy_tracer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_profile_tracer.html">ProfileTracer</a> &gt;&#160;</td>
          <td class="paramname"><em>profile_tracer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_agent.html">Agent</a> &gt; &gt;&#160;</td>
          <td class="paramname"><em>level_agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>policy_names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>policy_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>do_policy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgeopm_1_1_endpoint_user.html">EndpointUser</a> &gt;&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>endpoint_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>do_endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classgeopm_1_1_init_control.html">InitControl</a> &gt;&#160;</td>
          <td class="paramname"><em>init_control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>do_init_control</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for testing that allows injecting mocked versions of internal objects. </p>

</div>
</div>
<a id="a7bd4658dceb06379981580894cd891a6" name="a7bd4658dceb06379981580894cd891a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bd4658dceb06379981580894cd891a6">&#9670;&#160;</a></span>Controller() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">geopm::Controller::Controller </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeopm_1_1_controller.html">Controller</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa7120bc7bc5c6b006f259f72c59c40ca" name="aa7120bc7bc5c6b006f259f72c59c40ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7120bc7bc5c6b006f259f72c59c40ca">&#9670;&#160;</a></span>~Controller()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">geopm::Controller::~Controller </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a41fc0a68e234f7fbdbad4d3402f7df43" name="a41fc0a68e234f7fbdbad4d3402f7df43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41fc0a68e234f7fbdbad4d3402f7df43">&#9670;&#160;</a></span>abort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Controller::abort </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called upon failure to facilitate graceful destruction of the <a class="el" href="classgeopm_1_1_controller.html">Controller</a> and notify application. </p>

</div>
</div>
<a id="a9d39c1ccf6e46bd747dc239409b8923c" name="a9d39c1ccf6e46bd747dc239409b8923c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d39c1ccf6e46bd747dc239409b8923c">&#9670;&#160;</a></span>generate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Controller::generate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the report file and finalize the trace. </p>

</div>
</div>
<a id="aa1c2a69724a761fc58a6832eba035854" name="aa1c2a69724a761fc58a6832eba035854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1c2a69724a761fc58a6832eba035854">&#9670;&#160;</a></span>get_hostnames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; std::string &gt; geopm::Controller::get_hostnames </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>hostname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the names of hosts active in the current job. Must be called by all controllers in the tree or else a hang will occur. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hostname</td><td>Hostname of the calling <a class="el" href="classgeopm_1_1_controller.html">Controller</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns set of hostnames of all connected controllers if the calling controller is at the root of the tree, otherwise returns an empty set. </dd></dl>

</div>
</div>
<a id="aab423137c7f1e72a71d464cab71e7ef9" name="aab423137c7f1e72a71d464cab71e7ef9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab423137c7f1e72a71d464cab71e7ef9">&#9670;&#160;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgeopm_1_1_controller.html">Controller</a> &amp; geopm::Controller::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeopm_1_1_controller.html">Controller</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac4623ffb30c3c735b7928f5abe7efe8a" name="ac4623ffb30c3c735b7928f5abe7efe8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4623ffb30c3c735b7928f5abe7efe8a">&#9670;&#160;</a></span>pthread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Controller::pthread </td>
          <td>(</td>
          <td class="paramtype">const pthread_attr_t *&#160;</td>
          <td class="paramname"><em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pthread_t *&#160;</td>
          <td class="paramname"><em>thread</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run control algorithm as a separate thread. </p>
<p>Creates a POSIX thread running the control algorithm continuously until the shutdown signal is received. This is intended to be called by the application under control. With this method of launch the supporting MPI implementation must be enabled for MPI_THREAD_MULTIPLE using <a class="el" href="geopm__pmpi_8c.html#accb1a30cfde1a77b55074a4e0f339780">MPI_Init_thread()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">attr</td><td>The POSIX thread attributes applied when thread is created.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">thread</td><td>Pointer to the POSIX thread that is created. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab3c838ec3b608643e5b2a86227eeb4cf" name="ab3c838ec3b608643e5b2a86227eeb4cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3c838ec3b608643e5b2a86227eeb4cf">&#9670;&#160;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Controller::run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run control algorithm. </p>
<p>Steps the control algorithm continuously until the shutdown signal is received. Since this is a blocking call that never returns, it is intended that profiling information is provided through POSIX shared memory. </p>

</div>
</div>
<a id="ae070f8ec904c99fd2bc3a4567abe15bf" name="ae070f8ec904c99fd2bc3a4567abe15bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae070f8ec904c99fd2bc3a4567abe15bf">&#9670;&#160;</a></span>setup_trace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Controller::setup_trace </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the trace with custom columns from the <a class="el" href="classgeopm_1_1_agent.html">Agent</a>. </p>

</div>
</div>
<a id="a7ba16e56cfb95c8216d1d715bb860c19" name="a7ba16e56cfb95c8216d1d715bb860c19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ba16e56cfb95c8216d1d715bb860c19">&#9670;&#160;</a></span>step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Controller::step </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run a single step of the control algorithm. </p>
<p>One step consists of receiving policy information from the resource manager, sending them to every other controller that the node is a parent of, and reading hardware telemetry. </p>

</div>
</div>
<a id="ae6c7f5705f5680e58d53d3f97873d8ff" name="ae6c7f5705f5680e58d53d3f97873d8ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6c7f5705f5680e58d53d3f97873d8ff">&#9670;&#160;</a></span>walk_down()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Controller::walk_down </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Propagate policy information from the resource manager at the root of the tree down to the controllers on every node. </p>
<p>At each level of the tree, Agents may modify policies before sending them to their children. </p>

</div>
</div>
<a id="abda476466aa15ee8063b5dd4bfe72188" name="abda476466aa15ee8063b5dd4bfe72188"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abda476466aa15ee8063b5dd4bfe72188">&#9670;&#160;</a></span>walk_up()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void geopm::Controller::walk_up </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read hardware telemetry and application data and send the combined data up the tree to the resource manager. </p>
<p>At each level of the tree, Agents may modify and aggregate samples before sending them up up to their parents. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_controller_8hpp_source.html">Controller.hpp</a></li>
<li><a class="el" href="_controller_8cpp.html">Controller.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
