

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>geopmlaunch(1) – application launch wrapper &mdash; GEOPM  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="geopmread(1) – query platform information" href="geopmread.1.html" />
    <link rel="prev" title="geopmexporter(1) – Prometheus exporter for GEOPM metrics" href="geopmexporter.1.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            GEOPM
              <img src="https://geopm.github.io/images/geopm-logo-clear.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_guides.html">User Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="contrib.html">Contributor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="devel.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="reference.html">Reference Manual</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="reference.html#geopm-manual-pages">GEOPM Manual Pages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="geopm.7.html">geopm(7) – Global Extensible Open Power Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_pio.7.html">geopm_pio(7) – GEOPM PlatformIO interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_pio_cnl.7.html">geopm_pio_cnl(7) – Signals and controls for Compute Node Linux Board-Level Metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_pio_const_config.7.html">geopm_pio_const_config(7) – Signals for ConstConfigIOGroup</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_pio_cpuinfo.7.html">geopm_pio_cpuinfo(7) – Signals and controls for the CPUInfoIOGroup</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_pio_dcgm.7.html">geopm_pio_dcgm(7) – IOGroup providing signals and controls for NVIDIA GPUs</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_pio_levelzero.7.html">geopm_pio_levelzero(7) – IOGroup providing signals and controls for Intel GPUs</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_pio_msr.7.html">geopm_pio_msr(7) – Signals and controls for Model Specific Registers (MSRs)</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_pio_nvml.7.html">geopm_pio_nvml(7) – IOGroup providing signals and controls for NVIDIA GPUs</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_pio_profile.7.html">geopm_pio_profile(7) – Signals and controls for the ProfileIOGroup</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_pio_service.7.html">geopm_pio_service(7) – Signals and controls for the ServiceIOGroup</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_pio_sst.7.html">geopm_pio_sst(7) – Signals and controls for Intel Speed Select Technology</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_pio_sysfs.7.html">geopm_pio_sysfs(7) – Signals and controls for sysfs attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_pio_time.7.html">geopm_pio_time(7) – Signals and controls for Time IO Group</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmaccess.1.html">geopmaccess(1) – Access management for the GEOPM Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmadmin.1.html">geopmadmin(1) – tool for GEOPM system administrators</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmagent.1.html">geopmagent(1) – query agent information and create static policies</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmbatch.1.html">geopmbatch(1) – Command line interface for the GEOPM batch server</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmbench.1.html">geopmbench(1) – synthetic benchmark application</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmctl.1.html">geopmctl(1) – GEOPM runtime control application</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmendpoint.1.html">geopmendpoint(1) – command line tool for dynamic policy control</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmexporter.1.html">geopmexporter(1) – Prometheus exporter for GEOPM metrics</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">geopmlaunch(1) – application launch wrapper</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#supported-launchers">Supported Launchers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#geopm-options">GEOPM Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#environment">Environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="geopmread.1.html">geopmread(1) – query platform information</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmsession.1.html">geopmsession(1) – Command line interface for the GEOPM service batch read features</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmwrite.1.html">geopmwrite(1) – modify platform state</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmdpy.7.html">geopmdpy(7) – global extensible open power manager python daemon package</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopmpy.7.html">geopmpy(7) – global extensible open power manager python package</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent.3.html">geopm_agent(3) – query information about available agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_ctl.3.html">geopm_ctl(3) – GEOPM runtime control thread</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_daemon.3.html">geopm_daemon(3) – helpers for GEOPM daemons</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_endpoint.3.html">geopm_endpoint(3) – dynamic policy control for resource management</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_error.3.html">geopm_error(3) – error code descriptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_field.3.html">geopm_agent(3) – query information about available agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_fortran.3.html">geopm_fortran(3) – GEOPM fortran interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_hash.3.html">geopm_hash(3) – helper methods for encoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_imbalancer.3.html">geopm_imbalancer(3) – set artificial runtime imbalance</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_pio.3.html">geopm_pio(3) – interfaces to query and modify platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_policystore.3.html">geopm_policystore(3) – GEOPM resource policy store interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_prof.3.html">geopm_prof(3) – application profiling interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_sched.3.html">geopm_sched(3) – interface with Linux scheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_time.3.html">geopm_time(3) – helper methods for time</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_topo.3.html">geopm_topo(3) – query platform component topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_version.3.html">geopm_version(3) – GEOPM library version</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3AAgent.3.html">geopm::Agent(3) – GEOPM agent plugin interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3AAgg.3.html">geopm::Agg(3) – data aggregation functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3ACNLIOGroup.3.html">geopm::CNLIOGroup(3) – IOGroup for interaction with Compute Node Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3ACPUActivityAgent.3.html">geopm::CPUActivityAgent(3) – agent for selecting CPU frequency based on CPU compute activity</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3ACircularBuffer.3.html">geopm::CircularBuffer(3) – generic circular buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3AComm.3.html">geopm::Comm(3) – communication abstractions</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3ACpuinfoIOGroup.3.html">geopm::CpuinfoIOGroup(3) – IOGroup for CPU frequency limits</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3ADaemon.3.html">geopm::Daemon(3) – GEOPM daemon helper methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3AEndpoint.3.html">geopm::Endpoint(3) – GEOPM endpoint interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3AException.3.html">geopm::Exception(3) – custom GEOPM exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3AGPUActivityAgent.3.html">geopm::GPUActivityAgent(3) – agent for selecting GPU frequency based on GPU compute activity</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3AHelper.3.html">geopm::Helper – common helper methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3AIOGroup.3.html">geopm::IOGroup(3) – provides system values and settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3AMPIComm.3.html">geopm::MPIComm(3) – implementation of Comm using MPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3AMSRIO.3.html">geopm::MSRIO(3) – methods for reading and writing MSRs</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3AMSRIOGroup.3.html">geopm::MSRIOGroup – IOGroup providing MSR-based signals and controls</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3AMonitorAgent.3.html">geopm::MonitorAgent – agent that enforces no policies</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3APlatformIO.3.html">geopm::PlatformIO(3) – GEOPM platform interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3APlatformTopo.3.html">geopm::PlatformTopo(3) – platform topology information</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3APluginFactory.3.html">geopm::PluginFactory(3) – abstract factory for plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3APowerBalancer.3.html">geopm::PowerBalancer(3) – balances power according to epoch runtime</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3APowerBalancerAgent.3.html">geopm::PowerBalancerAgent(3) – agent optimizing performance under a power cap</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3APowerGovernor.3.html">geopm::PowerGovernor(3) – enforces a power limit</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3APowerGovernorAgent.3.html">geopm::PowerGovernorAgent(3) – agent that enforces a power cap</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3AProfileIOGroup.3.html">geopm::ProfileIOGroup(3) – IOGroup providing application signals</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3ASampleAggregator.3.html">geopm::SampleAggregator(3) – per-region aggregated signal data</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3ASharedMemory.3.html">geopm::SharedMemory(3) – abstractions for shared memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm%3A%3ATimeIOGroup.3.html">geopm::TimeIOGroup(3) – IOGroup providing time signals</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_report.7.html">geopm_report(7) – GEOPM summary report file</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_cpu_activity.7.html">geopm_agent_cpu_activity(7) – agent for selecting CPU frequency based on CPU compute activity</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_ffnet.7.html">geopm_agent_ffnet(7) – agent for adjusting frequencies based on application behavior</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_frequency_balancer.7.html">geopm_agent_frequency_balancer(7) – Agent reduces imbalance across CPU cores</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_frequency_map.7.html">geopm_agent_frequency_map(7) – agent for running regions at user selected frequencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_gpu_activity.7.html">geopm_agent_gpu_activity(7) – agent for selecting GPU frequency based on GPU compute activity</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_monitor.7.html">geopm_agent_monitor(7) – agent implementation for aggregating statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_power_balancer.7.html">geopm_agent_power_balancer(7) – agent optimizes performance under a power cap</a></li>
<li class="toctree-l3"><a class="reference internal" href="geopm_agent_power_governor.7.html">geopm_agent_power_governor(7) – agent enforces a power cap</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#doxygen-pages">Doxygen Pages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Releases</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GEOPM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="reference.html">Reference Manual</a></li>
      <li class="breadcrumb-item active">geopmlaunch(1) – application launch wrapper</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/geopmlaunch.1.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="geopmlaunch-1-application-launch-wrapper">
<h1>geopmlaunch(1) – application launch wrapper<a class="headerlink" href="#geopmlaunch-1-application-launch-wrapper" title="Link to this heading"></a></h1>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Link to this heading"></a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>geopmlaunch<span class="w"> </span>launcher<span class="w"> </span><span class="o">[</span>launcher_opt<span class="o">]</span><span class="w"> </span><span class="o">[</span>geopm_opt<span class="o">]</span><span class="w"> </span>--<span class="w"> </span>executable<span class="w"> </span><span class="o">[</span>executable_opt<span class="o">]</span>
</pre></div>
</div>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code> application enables execution of the GEOPM runtime
along with a distributed parallel compute application, <em>executable</em>,
using the command line interface for the underlying application
scheduler, <em>launcher</em>, deployed on the HPC system.  The <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code>
command line interface is designed to support many application
schedulers including <strong>SLURM</strong> <code class="docutils literal notranslate"><span class="pre">srun</span></code>, <strong>ALPS</strong> <code class="docutils literal notranslate"><span class="pre">aprun</span></code>, and <strong>Intel</strong> / <strong>MPICH</strong>
<code class="docutils literal notranslate"><span class="pre">mpiexec</span></code>.  The <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code> command line interface has been designed
to wrap the underlying application scheduler while reinterpreting the
command line options, <em>launcher_opt</em>, specified for it.  In this way,
the user can easily modify an existing job launch command to enable
the GEOPM runtime by prefixing the command with <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code> and
extending the existing scheduler options with the options for the
GEOPM runtime, <em>geopm_opt</em>.  The GEOPM runtime options control the
behavior of the GEOPM runtime and are detailed in the <a class="reference internal" href="#geopm-options"><span class="std std-ref">GEOPM Options</span></a> section below.</p>
<p>All command line options accepted by the underlying job scheduler
(e.g. <code class="docutils literal notranslate"><span class="pre">srun</span></code> or <code class="docutils literal notranslate"><span class="pre">aprun</span></code>) can be passed to the <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code> wrapper,
except for CPU affinity related options.  The wrapper
script reinterprets the command line to pass modified options and set
environment variables for the underlying application scheduler.  The
GEOPM options, <em>geopm_opt</em>, are translated into environment variables
to be interpreted by the GEOPM runtime (see the <a class="reference internal" href="geopm.7.html#environment"><span class="std std-ref">ENVIRONMENT section of
geopm(7)</span></a>).  The reinterpreted command line, including
the
environment modification, is printed to standard output by the script
before execution.  The command that is printed can be executed in the
<code class="docutils literal notranslate"><span class="pre">bash</span></code> shell to replicate the execution without using <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code>
directly.  The command is modified to support the GEOPM control thread
by setting CPU affinity for each process and increasing the number of
processes per node or CPUs per process.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The primary compute <em>executable</em> and its options,
<em>executable_opt</em>, must appear at the end of the command line and be
preceded by two dashes: <code class="docutils literal notranslate"><span class="pre">--</span></code>. The GEOPM launcher will not parse
arguments to the right of the first <code class="docutils literal notranslate"><span class="pre">--</span></code> sequence and will pass the
arguments that follow unaltered while removing the first <code class="docutils literal notranslate"><span class="pre">--</span></code> from the
command line.  Refer to the <a class="reference internal" href="#examples"><span class="std std-ref">EXAMPLES</span></a> section below.</p>
</div>
</section>
<section id="supported-launchers">
<h2>Supported Launchers<a class="headerlink" href="#supported-launchers" title="Link to this heading"></a></h2>
<p>The launcher is selected by specifying the <em>launcher</em> as the first
command line parameter.  Available <em>launcher</em> values are
listed below.</p>
<ul class="simple">
<li><p><em>srun</em>, <em>SrunLauncher</em>:
Wrapper for the SLURM resource manager’s <code class="docutils literal notranslate"><span class="pre">srun</span></code> job launcher.  The
<code class="docutils literal notranslate"><span class="pre">-cc</span></code> and <code class="docutils literal notranslate"><span class="pre">--cpu-bind</span></code> options are reserved for use by GEOPM;
do not specify CPU-binding options when using <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code>.</p></li>
<li><p><em>aprun</em>, <em>AlpsLauncher</em>:
Wrapper for the Cray ALPS <code class="docutils literal notranslate"><span class="pre">aprun</span></code> job launcher.  The <code class="docutils literal notranslate"><span class="pre">-cc</span></code> and
<code class="docutils literal notranslate"><span class="pre">--cpu-binding</span></code> options are reserved for use by GEOPM; do not
specify these when using <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code>.</p></li>
<li><p><em>impi</em>, <em>IMPIExecLauncher</em>:
Wrapper for the Intel MPI <code class="docutils literal notranslate"><span class="pre">mpiexec</span></code> job launcher.  The
<code class="docutils literal notranslate"><span class="pre">KMP_AFFINITY</span></code> <code class="docutils literal notranslate"><span class="pre">I_MPI_PIN_DOMAIN</span></code>, and <code class="docutils literal notranslate"><span class="pre">MV2_ENABLE_AFFINITY</span></code>
environment variables are reserved for use by GEOPM and are overwritten
when using <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code>.</p></li>
<li><p><em>ompi</em>, <em>OMPIExecLauncher</em>:
Wrapper for the Open MPI <code class="docutils literal notranslate"><span class="pre">mpiexec</span></code> job launcher.  The
<code class="docutils literal notranslate"><span class="pre">-rf</span></code> and <code class="docutils literal notranslate"><span class="pre">--rank-file</span></code> as well as explicitly specifying number of
processes with <code class="docutils literal notranslate"><span class="pre">-H</span></code> and <code class="docutils literal notranslate"><span class="pre">--host</span></code> options are reserved for use by GEOPM;
do not specify when using <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code>.</p></li>
<li><p><em>SrunTOSSLauncher</em>:
Wrapper for <code class="docutils literal notranslate"><span class="pre">srun</span></code> when used with the Trilab Operating System
Software stack.  This special launcher was developed to support
special affinity plugins for SLURM that were deployed at LLNL’s
computing center.  The <code class="docutils literal notranslate"><span class="pre">-cc</span></code> and <code class="docutils literal notranslate"><span class="pre">--cpu-bind</span></code> options are
reserved for use by GEOPM; do not specify when using <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code>.</p></li>
<li><p><em>pals</em>, <em>PALSLauncher</em>:
Wrapper for Cray-HPE PALS launcher, leveraging <code class="docutils literal notranslate"><span class="pre">mpiexec</span></code>.  The
<code class="docutils literal notranslate"><span class="pre">--cpu-bind</span></code> option is reserved for use by GEOPM; do not specify
CPU-binding options when using <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code>.</p></li>
</ul>
</section>
<section id="geopm-options">
<h2>GEOPM Options<a class="headerlink" href="#geopm-options" title="Link to this heading"></a></h2>
<dl class="option-list">
<dt><kbd><span class="option">--geopm-report <var>path</var></span></kbd></dt>
<dd><p id="geopm-report-option">Specifies the path to the GEOPM report output file that
is generated at the conclusion of the run if this option
is provided.  If the option is not provided, a report
named <code class="docutils literal notranslate"><span class="pre">geopm.report</span></code> will be created.  The GEOPM report
contains a summary of the profiling information collected
by GEOPM throughout the application execution.  Refer to
<a class="reference internal" href="geopm_report.7.html"><span class="doc">geopm_report(7)</span></a> for a
description of the information contained in the report.</p>
<p>This option is used by the launcher to set the
<code class="docutils literal notranslate"><span class="pre">GEOPM_REPORT</span></code> environment variable.  The command line
option will override any value currently set in the
environment.  See the <a class="reference internal" href="geopm.7.html#environment"><span class="std std-ref">ENVIRONMENT section of
geopm(7)</span></a>.</p>
</dd>
<dt><kbd><span class="option">--geopm-report-signals <var>signals</var></span></kbd></dt>
<dd><p id="geopm-report-signals-option">Used to insert additional measurements into the
report beyond the default values.  See the
<a class="reference internal" href="geopm_report.7.html#notes-on-sampling"><span class="std std-ref">Notes On Sampling section of
geopm_report(7)</span></a> for more information about how
signal samples are summarized over time and
across sampling domains in a report.</p>
<p>The value of <em>signals</em> must be formatted as a
comma-separated list of valid signal names.
The available signals and their descriptions
are documented in the <a class="reference internal" href="geopm_pio.7.html"><span class="doc">geopm_pio(7)</span></a> man page.</p>
<p>By default, the signals in the report are
aggregated to the board domain.  A domain other
than board can be specified by appending the
signal name with an <code class="docutils literal notranslate"><span class="pre">'&#64;'</span></code> character and then
specifying one of the domains.  For example,
the following will extend the region and
application totals sections of the report with
package energy for each package and DRAM energy
summed over the all DIMMs:</p>
<p><code class="docutils literal notranslate"><span class="pre">--geopm-report-signals=CPU_ENERGY&#64;package,DRAM_ENERGY</span></code></p>
<p>The <a class="reference internal" href="geopmread.1.html"><span class="doc">geopmread(1)</span></a>
executable enables discovery of signals and
domains available on your system.  The signal
names and domain names given for this parameter
are specified as in the <a class="reference internal" href="geopmread.1.html"><span class="doc">geopmread(1)</span></a> command line interface.</p>
</dd>
<dt><kbd><span class="option">--geopm-trace <var>path</var></span></kbd></dt>
<dd><p id="geopm-trace-option">The base name and path of the trace file(s)
generated if this option is specified.  One
trace file is generated for each compute node
used by the application containing a
pipe-delimited ASCII table describing a time
series of measurements made by the GEOPM
runtime.  The path is extended with the host
name of the node for each created file.  The
trace files will be written to the file system
path specified or current directory if only a
file name is given.  This feature is primarily
a debugging tool, and may not scale to large
node counts due to file system issues.  This
option is used by the launcher to set the
<code class="docutils literal notranslate"><span class="pre">GEOPM_TRACE</span></code> environment variable.  The command
line option will override any value currently
set in the environment.  See the
<a class="reference internal" href="geopm.7.html#environment"><span class="std std-ref">ENVIRONMENT section of geopm(7)</span></a>.</p>
</dd>
<dt><kbd><span class="option">--geopm-trace-signals <var>signals</var></span></kbd></dt>
<dd><p id="geopm-trace-signals-option">Used to insert additional columns into the
trace beyond the default columns and the
columns added by the Agent.  This option has no
effect unless tracing is enabled with
<code class="docutils literal notranslate"><span class="pre">--geopm-trace</span></code>.  The value must be formatted
as a comma-separated list of valid signal
names.  When not specified all custom signals
added to the trace will be sampled and
aggregated for the entire node unless the
domain is specified by appending <code class="docutils literal notranslate"><span class="pre">&quot;&#64;domain_type&quot;</span></code>
to the signal name.  For example, the following
will add total DRAM energy and power as columns
in the trace:</p>
<p><code class="docutils literal notranslate"><span class="pre">--geopm-trace-signals=DRAM_ENERGY,DRAM_POWER</span></code></p>
<p>The signals available and their descriptions
are documented in the <a class="reference internal" href="geopm%3A%3APlatformIO.3.html"><span class="doc">PlatformIO(3)</span></a> man page.
<code class="docutils literal notranslate"><span class="pre">TIME</span></code>, <code class="docutils literal notranslate"><span class="pre">EPOCH_COUNT</span></code>, <code class="docutils literal notranslate"><span class="pre">REGION_HASH</span></code>,
<code class="docutils literal notranslate"><span class="pre">REGION_HINT</span></code>, <code class="docutils literal notranslate"><span class="pre">REGION_PROGRESS</span></code>,
<code class="docutils literal notranslate"><span class="pre">CPU_ENERGY</span></code>, <code class="docutils literal notranslate"><span class="pre">DRAM_ENERGY</span></code>, <code class="docutils literal notranslate"><span class="pre">CPU_POWER</span></code>,
<code class="docutils literal notranslate"><span class="pre">DRAM_POWER</span></code>, <code class="docutils literal notranslate"><span class="pre">CPU_FREQUENCY_STATUS</span></code>,
<code class="docutils literal notranslate"><span class="pre">CPU_CYCLES_THREAD</span></code>, <code class="docutils literal notranslate"><span class="pre">CPU_CYCLES_REFERENCE</span></code>,
<code class="docutils literal notranslate"><span class="pre">CPU_CORE_TEMPERATURE</span></code> are included in the
trace by default.  A domain other than board
can be specified by appending the signal name
with an <code class="docutils literal notranslate"><span class="pre">'&#64;'</span></code> character and then specifying one
of the domains, e.g:</p>
<p><code class="docutils literal notranslate"><span class="pre">--geopm-trace-signals=CPU_POWER&#64;package,CPU_ENERGY&#64;package</span></code></p>
<p>will trace the package power and energy for
each package on the system.  The <a class="reference internal" href="geopmread.1.html"><span class="doc">geopmread(1)</span></a> executable enables discovery of
signals and domains available on your system.
The signal names and domain names given for
this parameter are specified as in the
<a class="reference internal" href="geopmread.1.html"><span class="doc">geopmread(1)</span></a> command line
interface.  This option is used by the launcher
to set the <code class="docutils literal notranslate"><span class="pre">GEOPM_TRACE_SIGNALS</span></code> environment
variable.  The command line option will
override any value currently set in the
environment.  See the <a class="reference internal" href="geopm.7.html#environment"><span class="std std-ref">ENVIRONMENT section
of geopm(7)</span></a>.</p>
</dd>
<dt><kbd><span class="option">--geopm-trace-profile</span></kbd></dt>
<dd><p id="geopm-trace-profile-option">The base name and path of the profile trace
file(s) generated if this option is specified.
One trace file is generated for each compute
node used by the application containing a
pipe-delimited ASCII table describing a log of
each call to the <code class="docutils literal notranslate"><span class="pre">geopm_prof_*()</span></code> APIs.  The
path is extended with the host name of the node
for each created file.  The profile trace files
will be written to the file system path
specified or current directory if only a file
name is given.  This feature is primarily a
debugging tool, and may not scale to large node
counts due to file system issues.  This option
is used by the launcher to set the
<code class="docutils literal notranslate"><span class="pre">GEOPM_TRACE_PROFILE</span></code> environment variable.  The
command line option will override any value
currently set in the environment.  See the
<a class="reference internal" href="geopm.7.html#environment"><span class="std std-ref">ENVIRONMENT section of
geopm(7)</span></a>.</p>
</dd>
<dt><kbd><span class="option">--geopm-trace-endpoint-policy <var>path</var></span></kbd></dt>
<dd><p id="geopm-trace-endpoint-policy-option">The path to the endpoint policy trace file
generated if this option is specified.
This file tracks only policies sent through
the endpoint at the root controller, not
all policies within the controller tree.
If <code class="docutils literal notranslate"><span class="pre">--geopm-endpoint</span></code> is not provided, or
if the agent does not have any policy
values, this file will not be created.
This option is used by the launcher to set
the <code class="docutils literal notranslate"><span class="pre">GEOPM_TRACE_ENDPOINT_POLICY`</span></code> environment
variable.  The command line option will
override any value currently set in the
environment.  See the
<a class="reference internal" href="geopm.7.html#environment"><span class="std std-ref">ENVIRONMENT section of
geopm(7)</span></a>.</p>
</dd>
<dt><kbd><span class="option">--geopm-profile <var>name</var></span></kbd></dt>
<dd><p id="geopm-profile-option">The name of the profile which is printed in the
report and trace files.  This name can be used
to index the data in post-processing.  For
example, when running a sweep of experiments
with multiple power caps, the profile could
contain the power setting for one run.  The
default profile name is “default”.  This option
is used by the launcher to set the <code class="docutils literal notranslate"><span class="pre">GEOPM_PROFILE</span></code>
environment variable.  The command line option
will override any value currently set in the
environment.  See the <a class="reference internal" href="geopm.7.html#environment"><span class="std std-ref">ENVIRONMENT section
of geopm(7)</span></a>.</p>
</dd>
<dt><kbd><span class="option">--geopm-ctl <var>CONTROL_MODE</var></span></kbd></dt>
<dd><p id="geopm-ctl-option">Use the GEOPM runtime and launch GEOPM with one of
three <code class="docutils literal notranslate"><span class="pre">CONTROL_MODE</span></code>s: <em>application</em>, <em>process</em>,
or <em>pthread</em>.</p>
<p>When used with <code class="docutils literal notranslate"><span class="pre">srun</span></code>, the <em>application</em> method of
launch must be called inside an existing allocation
made with <code class="docutils literal notranslate"><span class="pre">salloc</span></code> or <code class="docutils literal notranslate"><span class="pre">sbatch</span></code> and the command
must request all the compute nodes assigned to the
allocation. This method is the default if the
<code class="docutils literal notranslate"><span class="pre">--geopm-ctl</span></code> option is not provided.</p>
<p>When invoked with non-MPI applications, the <em>process</em>
and <em>pthread</em> methods will silently fail to launch geopm.
Only the <em>application</em> method will launch geopm with
non-MPI applications.</p>
<p>The <em>process</em> method allocates one extra MPI process
per node for the GEOPM controller. The <em>process</em> method
can be used in the widest variety of cases, but some
systems require that each MPI process be assigned the
same number of CPUs which may waste resources by
assigning more than one CPU to the GEOPM controller
process.</p>
<p>The <em>pthread</em> method spawns a thread from one MPI
process per node to run the GEOPM controller.  The
<em>application</em> method launches the <a class="reference internal" href="geopmctl.1.html"><span class="doc">geopmctl(1)</span></a> application in the background which
connects to the primary compute application. The
<em>pthread</em> option requires support for
<code class="docutils literal notranslate"><span class="pre">MPI_THREAD_MULTIPLE</span></code>, which is not enabled at many
sites.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--geopm-ctl</span></code> option is used by the launcher to
set the <code class="docutils literal notranslate"><span class="pre">GEOPM_CTL</span></code> environment variable.  The command
line option will override any value currently set in
the environment.  See the <a class="reference internal" href="geopm.7.html#environment"><span class="std std-ref">ENVIRONMENT section
of geopm(7)</span></a>.</p>
</dd>
<dt><kbd><span class="option">--geopm-agent <var>agent</var></span></kbd></dt>
<dd><p id="geopm-agent-option">Specify the Agent type.  The Agent defines the control
algorithm used by the GEOPM runtime.  Available agents
are: <code class="docutils literal notranslate"><span class="pre">&quot;monitor&quot;</span></code> (default, enables profiling features
only), <code class="docutils literal notranslate"><span class="pre">&quot;power_balancer&quot;</span></code> (optimizes runtime under a power
cap), <code class="docutils literal notranslate"><span class="pre">&quot;power_governor&quot;</span></code> (enforces a uniform power cap),
<code class="docutils literal notranslate"><span class="pre">&quot;frequency_balancer&quot;</span></code> (reduces imbalance across CPU cores),
and <code class="docutils literal notranslate"><span class="pre">&quot;frequency_map&quot;</span></code> (runs each region at a specified
frequency).  See <a class="reference internal" href="geopm_agent_monitor.7.html"><span class="doc">geopm_agent_monitor(7)</span></a>,
<a class="reference internal" href="geopm_agent_power_balancer.7.html"><span class="doc">geopm_agent_power_balancer(7)</span></a>,
<a class="reference internal" href="geopm_agent_power_governor.7.html"><span class="doc">geopm_agent_power_governor(7)</span></a>,
<a class="reference internal" href="geopm_agent_frequency_balancer.7.html"><span class="doc">geopm_agent_frequency_balancer(7)</span></a>, and
<a class="reference internal" href="geopm_agent_frequency_map.7.html"><span class="doc">geopm_agent_frequency_map(7)</span></a> and
<a class="reference internal" href="geopm_agent_ffnet.7.html"><span class="doc">geopm_agent_ffnet(7)</span></a> for descriptions of each
agent.</p>
<p>For more details on the responsibilities of an agent,
see <a class="reference internal" href="geopm%3A%3AAgent.3.html"><span class="doc">geopm::Agent(3)</span></a>.</p>
<p>This option is used by the launcher to set the
<code class="docutils literal notranslate"><span class="pre">GEOPM_AGENT</span></code> environment variable.  The command line
option will override any value currently set in the
environment.  See the <a class="reference internal" href="geopm.7.html#environment"><span class="std std-ref">ENVIRONMENT section of
geopm(7)</span></a>.</p>
</dd>
<dt><kbd><span class="option">--geopm-policy <var>policy</var></span></kbd></dt>
<dd><p id="geopm-policy-option">GEOPM policy JSON file used to configure the Agent
plugin.  If the policy is provided through this file,
it will only be read once and cannot be changed
dynamically.  In this mode, samples will not be
provided to the resource manager.  See <a class="reference internal" href="geopmagent.1.html"><span class="doc">geopmagent(1)</span></a> and <a class="reference internal" href="geopm_agent.3.html"><span class="doc">geopm_agent(3)</span></a> for more information about how to
create this input file.</p>
<p>This option is used by the launcher to set the
<code class="docutils literal notranslate"><span class="pre">GEOPM_POLICY</span></code> environment variable.  The command line
option will override any value currently set in the
environment.  See the <a class="reference internal" href="geopm.7.html#environment"><span class="std std-ref">ENVIRONMENT section of
geopm(7)</span></a>.</p>
</dd>
<dt><kbd><span class="option">--geopm-init-control <var>path</var></span></kbd></dt>
<dd><p id="geopm-init-control-option">Initialize any available controls with the values in
the file specified by <em>path</em>.  The file format is the
same as that for <code class="docutils literal notranslate"><span class="pre">geopmwrite</span></code> with one control
specified per line.  The comment character is ‘#’.
It may be placed anywhere on a line to stop parsing
of that line.  If the comment character results in
invalid syntax an error will be raised.</p>
<p>Files that contain only comments are valid.  They will
be parsed but no controls will be written.  A file that
is truly empty (i.e. contains only ‘0’) will raise
an error.</p>
<p>Example file contents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CPU_POWER_LIMIT_CONTROL</span> <span class="n">board</span> <span class="mi">0</span> <span class="mi">200</span> <span class="c1"># Set a 200W power limit</span>
<span class="c1"># Also set the time limit</span>
<span class="n">CPU_POWER_TIME_WINDOW_CONTROL</span> <span class="n">board</span> <span class="mi">0</span> <span class="mf">0.015</span>
</pre></div>
</div>
<p>This option is used by the launcher to set the
<code class="docutils literal notranslate"><span class="pre">GEOPM_INIT_CONTROL</span></code> environment variable.  The
command line option will override any value currently
set in the environment.  See the <a class="reference internal" href="geopm.7.html#environment"><span class="std std-ref">ENVIRONMENT
section of geopm(7)</span></a>.</p>
</dd>
<dt><kbd><span class="option">--geopm-affinity-enable</span></kbd></dt>
<dd><p id="geopm-affinity-enable-option">GEOPM will choose CPU affinity settings to minimize
interference between the GEOPM Runtime, the OS, and the
application.  When specified, the launcher will emit
command line arguments and/or environment variables
related to affinity settings for the underlying
launcher.  The user should refrain from using of
command line options or environment variable that are
known to modify application CPU affinity when
specifying this option for <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code>.</p>
</dd>
<dt><kbd><span class="option">--geopm-endpoint <var>endpoint</var></span></kbd></dt>
<dd><p id="geopm-endpoint-option">Prefix for shared memory keys used by the endpoint.
The endpoint receives policies dynamically from the
resource manager.
Refer to <a class="reference internal" href="geopm_endpoint.3.html"><span class="doc">geopm_endpoint(3)</span></a> for more detail.</p>
<p>If this option is provided, the GEOPM
controller will also send samples to the endpoint at
runtime, depending on the Agent selected.  This
option overrides the use of <code class="docutils literal notranslate"><span class="pre">--geopm-policy</span></code> to
receive policy values.  This option is used by the
launcher to set the <code class="docutils literal notranslate"><span class="pre">GEOPM_ENDPOINT</span></code> environment
variable.  The command line option will override any
value currently set in the environment.  See the
<a class="reference internal" href="geopm.7.html#environment"><span class="std std-ref">ENVIRONMENT section of
geopm(7)</span></a>.</p>
</dd>
<dt><kbd><span class="option">--geopm-timeout <var>sec</var></span></kbd></dt>
<dd><p id="geopm-timeout-option">Time in seconds that the application should wait for the
GEOPM controller to connect over shared memory.  The
default value is 30 seconds.  This option is used by the
launcher to set the <code class="docutils literal notranslate"><span class="pre">GEOPM_TIMEOUT</span></code> environment variable.
The command line option will override any value currently
set in the environment.  See the <a class="reference internal" href="geopm.7.html#environment"><span class="std std-ref">ENVIRONMENT section
of geopm(7)</span></a>.</p>
</dd>
<dt><kbd><span class="option">--geopm-plugin-path <var>path</var></span></kbd></dt>
<dd><p id="geopm-plugin-path-option">The search path for GEOPM plugins. It is a
colon-separated list of directories used by GEOPM to
search for shared objects which contain GEOPM
plugins.  In order to be available to the GEOPM
runtime, plugins should register themselves with the
appropriate factory.  See <a class="reference internal" href="geopm%3A%3APluginFactory.3.html"><span class="doc">geopm::PluginFactory(3)</span></a> for information
about the GEOPM plugin interface.</p>
<p>A zero-length directory name indicates the current
working directory; this can be specified by a leading
or trailing colon, or two adjacent colons.  The
default search location is always loaded first and is
determined at library configuration time and by way
of the <code class="docutils literal notranslate"><span class="pre">'pkglib'</span></code> variable (typically
<code class="docutils literal notranslate"><span class="pre">/usr/lib64/geopm/</span></code>).  This option is used by the
launcher to set the <code class="docutils literal notranslate"><span class="pre">GEOPM_PLUGIN_PATH</span></code> environment
variable.  The command line option will override any
value currently set in the environment.  See the
<a class="reference internal" href="geopm.7.html#environment"><span class="std std-ref">ENVIRONMENT section of
geopm(7)</span></a>.</p>
</dd>
<dt><kbd><span class="option">--geopm-record-filter <var>filter</var></span></kbd></dt>
<dd><p id="geopm-record-filter-option">Applies the user specified filter to the
application record data feed.  The filters
currently supported are <code class="docutils literal notranslate"><span class="pre">&quot;proxy_epoch&quot;</span></code> and
<code class="docutils literal notranslate"><span class="pre">&quot;edit_distance&quot;</span></code>.  These filters can be used to
infer the application outer loop (epoch) without
modifying the application by inserting calls to
<code class="docutils literal notranslate"><span class="pre">geopm_prof_epoch()</span></code> (see <a class="reference internal" href="geopm_prof.3.html"><span class="doc">geopm_prof(3)</span></a>).  Region entry and exit may
be captured automatically through runtimes such
as MPI and OpenMP.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">&quot;proxy_epoch&quot;</span></code> filter looks for entries into a
specific region that serves as a proxy for epoch
events.  The filter is specified as a
comma-separated list.  The first value selects
the filter by name: <code class="docutils literal notranslate"><span class="pre">&quot;proxy_epoch&quot;</span></code>. The second
value in the comma-separated list specifies a
region that will be used as a proxy for calls to
<code class="docutils literal notranslate"><span class="pre">geopm_prof_epoch()</span></code>.  If the value can be
interpreted as an integer, it will be used as the
numerical region hash of the region name,
otherwise, the value is interpreted as the region
name.  The third value that can be provided in
the comma-separated list is optional.  If
provided, it specifies the number of region
entries into the proxy region that are expected
per outer loop.  By default, this is assumed to be
1.  The fourth optional parameter that can be
specified in the comma-separated list is the
number of region entries into the proxy region
that are expected prior to the outer loop
beginning.  By default, this is assumed to be 0.
In the following example, the <code class="docutils literal notranslate"><span class="pre">MPI_Barrier</span></code> region
entry is used as a proxy for the epoch event:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">geopm</span><span class="o">-</span><span class="n">record</span><span class="o">-</span><span class="nb">filter</span><span class="o">=</span><span class="n">proxy_epoch</span><span class="p">,</span><span class="n">MPI_Barrier</span>
</pre></div>
</div>
<p>In the next example the <code class="docutils literal notranslate"><span class="pre">MPI_Barrier</span></code> region is
specified as a hash and the calls per outer loop
is given as 6:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">geopm</span><span class="o">-</span><span class="n">record</span><span class="o">-</span><span class="nb">filter</span><span class="o">=</span><span class="n">proxy_epoch</span><span class="p">,</span><span class="mh">0x7b561f45</span><span class="p">,</span><span class="mi">6</span>
</pre></div>
</div>
<p>In the last example the calls prior to startup is specified as 10:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">geopm</span><span class="o">-</span><span class="n">record</span><span class="o">-</span><span class="nb">filter</span><span class="o">=</span><span class="n">proxy_epoch</span><span class="p">,</span><span class="n">MPI_Barrier</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">10</span>
</pre></div>
</div>
<p><strong>Note:</strong> you must specify the calls per outer loop
in order to specify the calls prior to startup.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">&quot;edit_distance&quot;</span></code> filter will attempt to infer
the epoch based on patterns in the region entry
events using an edit distance algorithm.  The
filter is specified as string beginning with the
name <code class="docutils literal notranslate"><span class="pre">&quot;edit_distance&quot;</span></code>; if optional parameters are
specified, they are provided as a comma-separated
list following the name.  The first parameter is
the buffer size; the default if not provided is
100.  The second parameter is the minimum stable
period length in number of records.  The third
parameter is the stable period hysteresis factor.
The fourth parameter is the unstable period
hysteresis factor.  In the following example, the
<code class="docutils literal notranslate"><span class="pre">&quot;edit_distance&quot;</span></code> filter will be used with all
optional parameters provided:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">geopm</span><span class="o">-</span><span class="n">record</span><span class="o">-</span><span class="nb">filter</span><span class="o">=</span><span class="n">edit_distance</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">3.0</span>
</pre></div>
</div>
</dd>
<dt><kbd><span class="option">--geopm-debug-attach <var>rank</var></span></kbd></dt>
<dd><p id="geopm-debug-attach-option">Enables a serial debugger such as <code class="docutils literal notranslate"><span class="pre">gdb</span></code> to attach to a
job when the GEOPM PMPI wrappers are enabled.  If
set to a numerical value, the associated rank will
wait in <code class="docutils literal notranslate"><span class="pre">MPI_Init()</span></code> until a debugger is attached and
the local variable <code class="docutils literal notranslate"><span class="pre">&quot;cont&quot;</span></code> is set to a non-zero
value.  If set, but not to a numerical value then
all ranks will wait.  The runtime will print a
message explaining the hostname and process ID that
the debugger should attach to.  This option is used
by the launcher to set the <code class="docutils literal notranslate"><span class="pre">GEOPM_DEBUG_ATTACH</span></code>
environment variable.  The command line option will
override any value currently set in the environment.
See the <a class="reference internal" href="geopm.7.html#environment"><span class="std std-ref">ENVIRONMENT section of
geopm(7)</span></a>.</p>
</dd>
<dt><kbd><span class="option">--geopm-preload</span></kbd></dt>
<dd><p id="geopm-preload-option">Use LD_PRELOAD to link libgeopm.so at runtime.  This
can be used to enable the GEOPM runtime when an
application has not been compiled against libgeopm.so.</p>
</dd>
<dt><kbd><span class="option">--geopm-hyperthreads-disable</span></kbd></dt>
<dd><p id="geopm-hyperthreads-disable-option">Prevent the launcher from trying to use
hyperthreads for pinning purposes when attempting
to satisfy the MPI ranks / OMP threads
configuration specified.  This is done for both
the controller and the application.  An error is
raised if the launcher cannot satisfy the current
request without hyperthreads.</p>
</dd>
<dt><kbd><span class="option">--geopm-ctl-disable</span></kbd></dt>
<dd><p id="geopm-ctl-disable-option">Used to allow passing the command through to the
underlying launcher.  By default, <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code> will
launch the GEOPM runtime in process mode.  When this
option is specified, the GEOPM runtime will not be
launched.</p>
</dd>
<dt><kbd><span class="option">--geopm-ctl-local</span></kbd></dt>
<dd><p id="geopm-ctl-local-option">Disable all communication between controllers
running on different compute nodes.  This will
result in one report file per host, and each report
file will have the <code class="docutils literal notranslate"><span class="pre">hostname</span></code> appended to the file
path requested by the user.  Note this option has no
effect if <code class="docutils literal notranslate"><span class="pre">--geopm-ctl</span></code> or <code class="docutils literal notranslate"><span class="pre">--geopm-ctl-disable</span></code>
are provided. This is especially useful when launching
non-MPI applications.</p>
</dd>
<dt><kbd><span class="option">--geopm-ompt-enable</span></kbd></dt>
<dd><p id="geopm-ompt-enable-option">Enable OMPT detection of OpenMP regions.
See the <a class="reference internal" href="geopm.7.html#integration-with-ompt"><span class="std std-ref">INTEGRATION WITH OMPT section of geopm(7)</span></a>
for more information about OpenMP region detection.</p>
</dd>
<dt><kbd><span class="option">--geopm-period</span></kbd></dt>
<dd><p id="geopm-period-option">Override the control loop period specified by the Agent.  All
agents have a default control loop period, and this command
line option allows users to set a different value in units of
seconds.  With longer control loop periods, the overhead for
using GEOPM will be reduced, but more interpolation will be
required when aligning the sparsely sampled hardware signals
with the application feedback.  Additionally, agent reaction
time is reduced with longer control loop periods.</p>
</dd>
<dt><kbd><span class="option">--geopm-program-filter</span></kbd></dt>
<dd><p id="geopm-program-filter-option">Only enable profiling for processes where their
<code class="docutils literal notranslate"><span class="pre">program_invocation_name</span></code> or
<code class="docutils literal notranslate"><span class="pre">program_invocation_name_short_name</span></code> matches one of the names
in the comma separated list provided by
option.  This is especially useful when
launching a bash script to avoid profiling
bash or other ancillary commands that are not
part of the main application process set.  See
<cite>program_invocation_name(3)</cite> for more details.</p>
</dd>
</dl>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<p>Use <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code> to queue a job using <code class="docutils literal notranslate"><span class="pre">geopmbench</span></code> on a SLURM managed system
requesting two nodes using 32 application MPI process each with four threads:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>geopmlaunch<span class="w"> </span>srun<span class="w"> </span>-N<span class="w"> </span><span class="m">2</span><span class="w"> </span>-n<span class="w"> </span><span class="m">32</span><span class="w"> </span>-c<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>--geopm-ctl<span class="o">=</span>process<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>--geopm-report<span class="o">=</span>tutorial6.report<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>--<span class="w"> </span>./geopmbench<span class="w"> </span>tutorial6_config.json
</pre></div>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code> to launch the <code class="docutils literal notranslate"><span class="pre">miniFE</span></code> executable with the same configuration,
but on an ALPS managed system:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>geopmlaunch<span class="w"> </span>aprun<span class="w"> </span>-N<span class="w"> </span><span class="m">2</span><span class="w"> </span>-n<span class="w"> </span><span class="m">64</span><span class="w"> </span>--cpus-per-pe<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="se">\</span>
<span class="w">                  </span>--geopm-ctl<span class="w"> </span>process<span class="w"> </span><span class="se">\</span>
<span class="w">                  </span>--geopm-report<span class="w"> </span>miniFE.report<span class="w"> </span><span class="se">\</span>
<span class="w">                  </span>--<span class="w"> </span>./miniFE.x<span class="w"> </span>-nx<span class="w"> </span><span class="m">256</span><span class="w"> </span>-ny<span class="w"> </span><span class="m">256</span><span class="w"> </span>-nz<span class="w"> </span><span class="m">256</span>
</pre></div>
</div>
</section>
<section id="environment">
<h2>Environment<a class="headerlink" href="#environment" title="Link to this heading"></a></h2>
<p>Every command line option to the launcher can also be specified as an
environment variable if desired (except for <code class="docutils literal notranslate"><span class="pre">--geopm-ctl</span></code>).
For example, instead of specifying <code class="docutils literal notranslate"><span class="pre">--geopm-trace=geopm.trace</span></code> one can
instead set in the environment <code class="docutils literal notranslate"><span class="pre">GEOPM_TRACE=geopm.trace</span></code> prior to
invoking the launcher script.  The environment variables are named the
same as the command line option but have the hyphens replaced with
underscores, and are all uppercase.  The command line options take
precedence over the environment variables.</p>
<p>The usage of <code class="docutils literal notranslate"><span class="pre">--geopm-ctl</span></code> here is slightly different from how the
controller handles the <code class="docutils literal notranslate"><span class="pre">GEOPM_CTL</span></code> environment variable.  In the
case of the launcher, one can specify <em>process</em>, <em>pthread</em>, or
<em>application</em> to the command line argument.  In the case of
<code class="docutils literal notranslate"><span class="pre">GEOPM_CTL</span></code> one can ONLY specify <code class="docutils literal notranslate"><span class="pre">process</span></code> or <code class="docutils literal notranslate"><span class="pre">pthread</span></code>, as
launching the controller as a separate application is handled through
the <code class="docutils literal notranslate"><span class="pre">geopmctl</span></code> binary.</p>
<p>The interpretation of the environment is affected if either of the
GEOPM configuration files exist:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">geopm</span><span class="o">/</span><span class="n">environment</span><span class="o">-</span><span class="n">default</span><span class="o">.</span><span class="n">json</span>
<span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">geopm</span><span class="o">/</span><span class="n">environment</span><span class="o">-</span><span class="n">override</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>These files may specify system default and override settings for all
of the GEOPM environment variables.  The <code class="docutils literal notranslate"><span class="pre">environment-default.json</span></code>
file contains a JSON object mapping GEOPM environment variable strings
to strings that define default values for any unspecified GEOPM
environment variable or unspecified <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code> command line
options.  The <code class="docutils literal notranslate"><span class="pre">environment-override.json</span></code> contains a JSON object that
defines values for GEOPM environment variables that take precedence
over any settings provided by the user either through the environment
or through the <code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code> command line options.  The order of
precedence for each GEOPM variable is: override configuration file,
<code class="docutils literal notranslate"><span class="pre">geopmlaunch</span></code> command line option, environment setting, the default
configuration file, and finally there are some preset default values
that are coded into GEOPM which have the lowest precedence.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">KMP_WARNINGS</span></code> environment variable is set to <code class="docutils literal notranslate"><span class="pre">'FALSE'</span></code>, thus
disabling the Intel OpenMP warnings.  This avoids warnings emitted
because the launcher configures the <code class="docutils literal notranslate"><span class="pre">OMP_PROC_BIND</span></code> environment
variable to support applications compiled with a non-Intel
implementation of OpenMP.</p>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Link to this heading"></a></h2>
<p><a class="reference internal" href="geopm.7.html"><span class="doc">geopm(7)</span></a>,
<a class="reference internal" href="geopmpy.7.html"><span class="doc">geopmpy(7)</span></a>,
<a class="reference internal" href="geopm_agent_monitor.7.html"><span class="doc">geopm_agent_monitor(7)</span></a>,
<a class="reference internal" href="geopm_agent_power_balancer.7.html"><span class="doc">geopm_agent_power_balancer(7)</span></a>,
<a class="reference internal" href="geopm_agent_power_governor.7.html"><span class="doc">geopm_agent_power_governor(7)</span></a>,
<a class="reference internal" href="geopm_agent_frequency_balancer.7.html"><span class="doc">geopm_agent_frequency_balancer(7)</span></a>,
<a class="reference internal" href="geopm_report.7.html"><span class="doc">geopm_report(7)</span></a>,
<a class="reference internal" href="geopm_error.3.html"><span class="doc">geopm_error(3)</span></a>,
<a class="reference internal" href="geopmctl.1.html"><span class="doc">geopmctl(1)</span></a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="geopmexporter.1.html" class="btn btn-neutral float-left" title="geopmexporter(1) – Prometheus exporter for GEOPM metrics" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="geopmread.1.html" class="btn btn-neutral float-right" title="geopmread(1) – query platform information" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2015 - 2025 Intel Corporation. All rights reserved..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>