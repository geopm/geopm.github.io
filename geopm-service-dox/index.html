<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>geopm: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">geopm
   &#160;<span id="projectnumber">3.1.1.dev184+g248d271f</span>
   </div>
   <div id="projectbrief">GEOPM - Global Extensible Open Power Manager</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">geopm Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__home_runner_work_geopm_geopm_README"></a> <img src="https://geopm.github.io/images/geopm-banner.png" alt="GEOPM logo" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md0"></a>
GEOPM - Global Extensible Open Power Manager</h1>
<p><a href="https://geopm.github.io">Home Page</a> | <a href="https://geopm.github.io/service.html">GEOPM Access Service</a> | <a href="https://geopm.github.io/runtime.html">GEOPM Runtime Service</a> | <a href="https://geopm.github.io/reference.html">Reference Manual</a> | <a href="https://geopm.slack.com">Slack Workspace</a></p>
<p>Fine-grained low-latency batch access to power metrics and control knobs on Linux</p>
<p><a href="https://github.com/geopm/geopm/releases"><img src="https://img.shields.io/badge/Version-3.1.0-blue" alt="Version" class="inline"/></a> <a href="https://opensource.org/licenses/BSD-3-Clause"><img src="https://img.shields.io/badge/License-BSD%203--Clause-blue.svg" alt="License" style="pointer-events: none;" class="inline"/></a></p>
<p><a href="https://github.com/geopm/geopm/actions"><img src="https://github.com/geopm/geopm/actions/workflows/build.yml/badge.svg" alt="CI Status" style="pointer-events: none;" class="inline"/></a> <a href="https://scan.coverity.com/projects/geopm-geopm"><img src="https://img.shields.io/coverity/scan/23217.svg" alt="Coverity Status" style="pointer-events: none;" class="inline"/></a> <a href="https://scorecard.dev/viewer/?uri=github.com/geopm/geopm"><img src="https://api.scorecard.dev/projects/github.com/geopm/geopm/badge" alt="OpenSSF Scorecard" class="inline"/></a> <a href="https://build.opensuse.org/package/show/home:geopm/geopm-service"><img src="https://build.opensuse.org/projects/home:geopm/packages/geopm-service/badge.svg?type=default" alt="OBS Packaging: Service" style="pointer-events: none;" class="inline"/></a> <a href="https://build.opensuse.org/package/show/home:geopm/geopm-runtime"><img src="https://build.opensuse.org/projects/home:geopm/packages/geopm-runtime/badge.svg?type=default" alt="OBS Packaging: Runtime" style="pointer-events: none;" class="inline"/></a></p>
<h2><a class="anchor" id="autotoc_md1"></a>
Key Features</h2>
<p>The Global Extensible Open Power Manager (GEOPM) provides a framework to explore power and energy optimizations on platforms with heterogeneous mixes of computing hardware.</p>
<p>Users can monitor their system's energy and power consumption, and safely optimize system hardware settings to achieve energy efficiency and/or performance objectives.</p>
<p>With GEOPM, a system administrator can:</p>
<ul>
<li>Grant per-user or per-group access to individual metrics and controls, even when their underlying interfaces do not offer fine-grained access control</li>
<li>Ensure that user-driven changes to hardware settings are reverted when the user's process session terminates</li>
<li>Develop your own platform-specific monitor and control interfaces through the extensible plugin architecture</li>
</ul>
<p>With GEOPM, an end user can:</p>
<ul>
<li>Interact with hardware settings and sensors (e.g., set a CPU power limit or read a GPU's current power consumption) using a platform-agnostic interface</li>
<li>Generate summarized reports of power and energy behavior during execution of an application</li>
<li>Automatically detect MPI and OpenMP phases in an application, generating per-phase summaries within application reports</li>
<li>Optimize applications to improve energy efficiency or reduce the effects of work imbalance, system jitter, and manufacturing variation through built-in control algorithms</li>
<li>Develop your own runtime control algorithms through the extensible plugin architecture</li>
<li>Gather large groups of signal-reads or control-writes into batch operations, often reducing total latency to complete the operations.</li>
</ul>
<p>GEOPM software is separated into two major components, the <em>GEOPM Access Service</em> and the <em>GEOPM Runtime Service</em>.</p>
<p><a href="https://geopm.github.io/service.html">GEOPM Access Service</a>: A privileged process that provides user interfaces to hardware signals and controls and admin interfaces to manage user access. <b>C and C++ bindings</b> to this interface are provided through [libgeopmd](libgeopmd). <b>Python bindings</b> are provided through the [geopmdpy](geopmdpy) package.</p>
<p><a href="https://geopm.github.io/runtime.html">GEOPM Runtime Service</a>: An unprivileged process that provides a framework to control platform settings based on feedback from signals and monitored application state. This process delegates platform interactions to the GEOPM Access Service. <b>C and C++ bindings</b> are provided through [libgeopm](libgeopm). <b>Python bindings</b> are provided through the [geopmpy](geopmpy) package.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Usage</h2>
<p>Some simple use cases are illustrated below. See the <a href="https://geopm.github.io/overview.html">Getting Started Guide</a> for additional use cases in Bash, C, C++, and Python.</p>
<p>Read the current power consumption of all CPUs in the platform. The command will print the total power consumption (in Watts) summed across all CPUs on the board. </p><div class="fragment"><div class="line">geopmread CPU_POWER board 0</div>
</div><!-- fragment --><p> <a href="https://github.com/geopm/geopm.github.io/assets/378319/795b297e-7a45-47a8-bf67-3fdf8be9448e">https://github.com/geopm/geopm.github.io/assets/378319/795b297e-7a45-47a8-bf67-3fdf8be9448e</a></p>
<p>Apply a 3.0 GHz maximum-allowed CPU core frequency to each CPU on the board. This setting will be automatically reverted when the user's session ends (e.g., when exiting the current shell). </p><div class="fragment"><div class="line">geopmwrite CPU_FREQUENCY_MAX_CONTROL board 0 3.0e9</div>
</div><!-- fragment --><p> <a href="https://github.com/geopm/geopm.github.io/assets/378319/0a4f2cf8-cebf-4556-b710-6c664568790d">https://github.com/geopm/geopm.github.io/assets/378319/0a4f2cf8-cebf-4556-b710-6c664568790d</a></p>
<p>Generate a CSV (comma-separated variable) trace of CPU core frequency versus time, sampling once every second for a total of 10 seconds: </p><div class="fragment"><div class="line">echo -e &#39;TIME board 0\nCPU_FREQUENCY_STATUS package 0&#39; | geopmsession -p 1.0 -t 10.0</div>
</div><!-- fragment --><p> <a href="https://github.com/geopm/geopm.github.io/assets/378319/382fbe44-5ab4-4c43-9173-982473ebccb8">https://github.com/geopm/geopm.github.io/assets/378319/382fbe44-5ab4-4c43-9173-982473ebccb8</a></p>
<p>Other use cases in the <a href="https://geopm.github.io/overview.html">Getting Started Guide</a> include:</p><ul>
<li>Setting admin policies for user access to signals and controls</li>
<li>Exploring the platform's hardware topology</li>
<li>Reading other types of signals and writing other types of controls at various scopes in the topology</li>
<li>Repeatedly reading multiple signals in batches</li>
<li>Using the GEOPM Runtime Service alongside applications</li>
</ul>
<h2><a class="anchor" id="autotoc_md3"></a>
How to Install GEOPM</h2>
<p>We provide installable packages for Ubuntu, CentOS, openSUSE, and RHEL. Our build systems can also be used to install GEOPM from source.</p>
<p>More details are available in our <a href="https://geopm.github.io/install.html">Installation</a> documentation page.</p>
<h3><a class="anchor" id="autotoc_md4"></a>
On Ubuntu</h3>
<div class="fragment"><div class="line">sudo add-apt-repository ppa:geopm/release</div>
<div class="line">sudo apt update</div>
<div class="line">sudo apt install geopm-service libgeopmd-dev libgeopmd2 python3-geopmdpy</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md5"></a>
On CentOS, openSUSE, and RHEL</h3>
<p>Follow the installation wizards described in our <a href="https://geopm.github.io/install.html#sles-opensuse-and-centos">installation guide</a> to install our latest release through <code>dnf</code> or <code>zypper</code>.</p>
<h3><a class="anchor" id="autotoc_md6"></a>
From Source</h3>
<p>Follow the documentation in our <a href="https://geopm.github.io/devel.html#developer-build-process">developer build guide</a> for details about how to configure the build process. Note that some dependency packages required for the C++ builds may be missing from your system. Refer to the <a href="https://geopm.github.io/requires.html">requirements guide</a> for details on the packages required for build on your operating system. In the bash script below we show a simple way to build and install all of the GEOPM packages from the source repository assuming that all build dependencies are installed system wide.</p>
<div class="fragment"><div class="line"># Choose install location</div>
<div class="line">INSTALL_PREFIX=$HOME/build/geopm    # User install</div>
<div class="line"># INSTALL_PREFIX=/usr/local         # Root install</div>
<div class="line">pip install -r requirements.txt</div>
<div class="line">cd libgeopmd</div>
<div class="line">./autogen.sh</div>
<div class="line">./configure --prefix=$INSTALL_PREFIX</div>
<div class="line">make -j                             # Build libgeopmd</div>
<div class="line">make install                        # Install to the --prefix location</div>
<div class="line">cd ../libgeopm</div>
<div class="line">./autogen.sh</div>
<div class="line">./configure --prefix=$INSTALL_PREFIX</div>
<div class="line">make -j                             # Build libgeopm</div>
<div class="line">make install                        # Install to the --prefix location</div>
<div class="line">cd ..</div>
<div class="line">pip install -r geopmdpy/requirements.txt</div>
<div class="line">pip install ./geopmdpy</div>
<div class="line">pip install -r geopmpy/requirements.txt</div>
<div class="line">pip install ./geopmpy</div>
<div class="line">make -C docs man</div>
<div class="line">make -C docs prefix=$INSTALL_PREFIX install_man</div>
</div><!-- fragment --><p>When building from source and configured with the <code>--prefix</code> option, the libraries, and binaries will not install into the standard system paths. At this point, you must modify your environment to specify the installed location.</p>
<div class="fragment"><div class="line">export LD_LIBRARY_PATH=$INSTALL_PREFIX/lib:$LD_LIBRARY_PATH</div>
<div class="line">export PATH=$INSTALL_PREFIX/bin:$PATH</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md7"></a>
Major GEOPM Versions</h3>
<p>At a high level, major GEOPM releases are summarized as follows:</p>
<ul>
<li><b>Version 3.0</b>: The GEOPM runtime now also works with non-MPI applications.</li>
<li><b>Version 2.0</b>: GEOPM is split into two components: a service that manages platform I/O, and a runtime that writes platform power management controls based on feedback from MPI application state and platform state. GEOPM now has interfaces for Intel and NVIDIA GPUs and the <code>isst_interface</code> driver.</li>
<li><b>Version 1.0</b>: GEOPM is production-ready. It provides an abstraction layer for interaction with a platform's power metrics and control knobs, and offers the ability to interact with control knobs based on information from instrumented MPI applications.</li>
</ul>
<p>Please refer to the ChangeLog.md for a more detailed history of changes in each release.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Repository Directories</h2>
<ul>
<li><a href=".github">.github</a> contains definitions of this repository's GitHub actions</li>
<li>[docs](docs) contains web and man-page documentation for GEOPM</li>
<li>[geopmdpy](geopmdpy) provides Python bindings for libgeopmd</li>
<li>[geopmpy](geopmpy) provides Python bindings for libgeopm</li>
<li>[integration](integration) contains integration test automation for GEOPM</li>
<li>[libgeopm](libgeopm) provides the C/C++ implementation of the GEOPM Runtime Service</li>
<li>[libgeopmd](libgeopmd) provides the C/C++ implementation of the GEOPM Access Service</li>
<li>[release](release) packaging files for latest release by distro </li>
</ul>
<h2><a class="anchor" id="autotoc_md9"></a>
Guide for Contributors</h2>
<p>We appreciate all feedback on our project. See our <a href="https://geopm.github.io/contrib.html">contributing guide</a> for guidelines on how to report bugs, request new features, or contribute new code.</p>
<p>Refer to the <a href="https://geopm.github.io/devel.html">GEOPM Developer Guide</a> for information about how to interact with our build and test tools.</p>
<h2><a class="anchor" id="autotoc_md10"></a>
License</h2>
<p>The GEOPM source code is distributed under the 3-clause BSD license.</p>
<p>SEE [LICENSE-BSD-3-Clause](LICENSE-BSD-3-Clause) FILE FOR LICENSE INFORMATION.</p>
<h2><a class="anchor" id="autotoc_md11"></a>
Last Update</h2>
<p>2024 April 10</p>
<p>Christopher Cantalupo <a href="#" onclick="location.href='mai'+'lto:'+'chr'+'is'+'top'+'he'+'r.m'+'.c'+'ant'+'al'+'upo'+'@i'+'nte'+'l.'+'com'; return false;">chris<span style="display: none;">.nosp@m.</span>toph<span style="display: none;">.nosp@m.</span>er.m.<span style="display: none;">.nosp@m.</span>cant<span style="display: none;">.nosp@m.</span>alupo<span style="display: none;">.nosp@m.</span>@int<span style="display: none;">.nosp@m.</span>el.co<span style="display: none;">.nosp@m.</span>m</a> <br  />
 Brad Geltz <a href="#" onclick="location.href='mai'+'lto:'+'bra'+'d.'+'gel'+'tz'+'@in'+'te'+'l.c'+'om'; return false;">brad.<span style="display: none;">.nosp@m.</span>gelt<span style="display: none;">.nosp@m.</span>z@int<span style="display: none;">.nosp@m.</span>el.c<span style="display: none;">.nosp@m.</span>om</a> <br  />
</p>
<h2><a class="anchor" id="autotoc_md12"></a>
Acknowledgments</h2>
<p>Development of the GEOPM software package has been partially funded through contract B609815 with Argonne National Laboratory. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
